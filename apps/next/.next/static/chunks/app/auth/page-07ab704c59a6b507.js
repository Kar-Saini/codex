(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{9564:function(e,s,n){Promise.resolve().then(n.bind(n,3225))},3225:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return m}});var r=n(7573);let t=(0,n(8071).Z)("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);var a=n(9793),l=n(4603),o=n(7997),i=n(7653),c=n(7336),u=n(925);let d={name:"",email:"",password:""};function m(){let[e,s]=(0,i.useState)("signin"),[n,m]=(0,i.useState)(d),h=(0,a.useSession)(),g=(0,l.useRouter)();function x(e){m(s=>({...s,[e.target.name]:e.target.value}))}async function f(){if(console.log(n),"signin"===e)try{let e=await (0,a.signIn)("credentials",{redirect:!1,email:n.email,password:n.password});console.log(e),(null==e?void 0:e.error)?c.ZP.error(e.error):(c.ZP.success("Signed In"),m(d),g.push("/dashboard"))}catch(e){c.ZP.error(e)}else try{let e=await u.Z.post("/api/user",n);200===e.status&&(c.ZP.success("User created"),m(d),s("signin"))}catch(e){console.log("Error")}}return(0,i.useEffect)(()=>{"authenticated"===h.status&&(c.ZP.success("Already signed in!!"),g.push("/dashboard"))},[h.status]),console.log(h),console.log(n),(0,r.jsx)("div",{className:" bg-gradient-to-b h-full from-blue-50 to-white flex flex-col justify-between bg-yellow-500 w-full",children:(0,r.jsx)("main",{className:"flex-grow flex items-center justify-center px-6",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)(t,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"signin"==e?"Sign in to CODEX":"Sign up to CODEX"}),(0,r.jsx)("p",{className:"text-gray-600",children:"signin"==e?"Enter your details to access your account":"Enter your details to create your account"})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,r.jsx)("input",{id:"email",name:"email",type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",inputMode:"numeric",placeholder:"name@example.com",onChange:x})]}),"signup"===e&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,r.jsx)("input",{id:"name",name:"name",type:"name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe",onChange:x})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••",onChange:x})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:f,type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"signin"===e?"Sign in":"Sign up"})})]}),(0,r.jsxs)("p",{className:"mt-4 text-center text-sm text-gray-600",children:["signin"===e?"Don't have an account? ":"Already have an account? ",(0,r.jsx)(o.default,{href:"#",className:"font-medium text-blue-600 hover:text-blue-500",onClick:()=>{"signin"===e?s("signup"):s("signin")},children:"signin"===e?"Sign up":"Sign in"})]})]})})})}}},function(e){e.O(0,[793,748,946,336,293,997,744],function(){return e(e.s=9564)}),_N_E=e.O()}]);